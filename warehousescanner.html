<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Scanner - Camera Permission Help</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            min-height: 100vh;
        }
        .permission-card {
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .permission-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .browser-icon {
            transition: all 0.3s ease;
        }
        .browser-icon:hover {
            transform: scale(1.05);
        }
        .step-number {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: #3b82f6;
            color: white;
            font-weight: bold;
        }
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="py-12 px-4">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-slate-800 mb-4">Camera Permission Required</h1>
            <p class="text-lg text-slate-600 max-w-2xl mx-auto">
                Your inventory scanner needs camera access to scan barcodes. Please allow camera permissions to use this feature.
            </p>
        </div>

        <!-- Main Content -->
        <div class="grid md:grid-cols-2 gap-8 mb-12">
            <!-- Browser Instructions -->
            <div class="bg-white rounded-xl shadow-md p-6 permission-card">
                <h2 class="text-2xl font-semibold text-slate-800 mb-6 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    Browser Instructions
                </h2>
                
                <div class="space-y-6">
                    <!-- Chrome -->
                    <div class="flex items-start space-x-4">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OCA0OCIgaGVpZ2h0PSI0OCIgd2lkdGg9IjQ4Ij48cGF0aCBmaWxsPSIjZGI0MDI3IiBkPSJNMjIgMjNIMTZsLTYgOWExNi4wNiAxNi4wNiAwIDAgMCAyMiAwbC01LTloLTZ6Ii8+PHBhdGggZmlsbD0iI2ZhYmMwMCIgZD0iTTI4IDIzaDZsNSA5YTE2LjA2IDE2LjA2IDAgMCAxLTIyIDBsNi05aDZ6Ii8+PHBhdGggZmlsbD0iIzQ4YTU0MyIgZD0iTTM0IDIzYTE2LjA2IDE2LjA2IDAgMSAxLTYtMTloMTJjMCA4Ljg1LTcuMTUgMTYtMTYgMTZWNEMyNi4wNiA0IDM0IDExLjE1IDM0IDIweiIvPjxjaXJjbGUgZmlsbD0iIzQ3ODdmYiIgY3g9IjI0IiBjeT0iMTIiIHI9IjQiLz48L3N2Zz4=" class="w-10 h-10 browser-icon" alt="Chrome">
                        <div>
                            <h3 class="font-medium text-slate-800">Google Chrome</h3>
                            <ol class="mt-2 text-sm text-slate-600 space-y-2">
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">1</span>
                                    Click the camera icon in the address bar
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">2</span>
                                    Select "Allow" from the dropdown menu
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">3</span>
                                    Refresh the page if needed
                                </li>
                            </ol>
                        </div>
                    </div>
                    
                    <!-- Firefox -->
                    <div class="flex items-start space-x-4 pt-4 border-t border-slate-100">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OCA0OCIgaGVpZ2h0PSI0OCIgd2lkdGg9IjQ4Ij48cGF0aCBmaWxsPSIjZmY3MTE0IiBkPSJNNDEgMjRjMCA4LjgzLTcuMTcgMTYtMTYgMTZINWMtLjgzIDAtMS41NC0uNTQtMS43NS0xLjMyQTM0LjYgMzQuNiAwIDAgMSA0IDI0YTM0LjYgMzQuNiAwIDAgMSAxLjI1LTkuNjhDMzUuNDYgMTQuMzMgNDEgMTguNzYgNDEgMjR6Ii8+PHBhdGggZmlsbD0iI2ZmOWQwMCIgZD0iTTI0IDhjOC44MyAwIDE2IDcuMTcgMTYgMTZzLTcuMTcgMTYtMTYgMTZTMCAzMi44MyAwIDI0IDcuMTcgOCAyNCA4em0wIDI4YzYuNjIgMCAxMi01LjM4IDEyLTEyUzMwLjYyIDEyIDI0IDEyIDEyIDE3LjM4IDEyIDI0czUuMzggMTIgMTIgMTJ6Ii8+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTI0IDI4YzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptOC04YzAgMi4yMS0xLjc5IDQtNCA0cy00LTEuNzktNC00IDEuNzktNCA0LTQgNCAxLjc5IDQgNHoiLz48cGF0aCBmaWxsPSIjZmY3MTE0IiBkPSJNMzIgMjBjMCAyLjIxLTEuNzkgNC00IDRzLTQtMS43OS00LTQgMS43OS00IDQtNCA0IDEuNzkgNCA0eiIvPjwvc3ZnPg==" class="w-10 h-10 browser-icon" alt="Firefox">
                        <div>
                            <h3 class="font-medium text-slate-800">Mozilla Firefox</h3>
                            <ol class="mt-2 text-sm text-slate-600 space-y-2">
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">1</span>
                                    Click the camera icon in the address bar
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">2</span>
                                    Select "Allow" to grant camera access
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">3</span>
                                    Refresh the page if the prompt doesn't appear
                                </li>
                            </ol>
                        </div>
                    </div>
                    
                    <!-- Safari -->
                    <div class="flex items-start space-x-4 pt-4 border-t border-slate-100">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OCA0OCIgaGVpZ2h0PSI0OCIgd2lkdGg9IjQ4Ij48cGF0aCBmaWxsPSIjMDhjZTM0IiBkPSJNMjQgNEMxMi45NSA0IDQgMTIuOTUgNCAyNHM4Ljk1IDIwIDIwIDIwIDIwLTguOTUgMjAtMjBTMzUuMDUgNCAyNCA0em0wIDM2Yy04LjgyIDAtMTYtNy4xOC0xNi0xNlMxNS4xOCA4IDI0IDhzMTYgNy4xOCAxNiAxNi03LjE4IDE2LTE2IDE2eiIvPjxwYXRoIGZpbGw9IiMwOGNlMzQiIGQ9Ik0yNC4wMSAxMGMtNy4xIDAtNy45OSA0Ljg3LTcuOTkgNC44N2wtMi4zOS01LjYyYy0uMDYtLjE0LS4yMS0uMjQtLjM3LS4yN0M2Ljg0IDguODIgNCAxNS42OSA0IDI0YzAgMTEuMDUgOC45NSAyMCAyMCAyMCA3LjM1IDAgMTMuNzUtMy45NiAxNy4zMi05LjguMDYtLjExLjA0LS4yNC0uMDQtLjM0QzM3LjYyIDI3LjQ0IDI0LjAxIDEwIDI0LjAxIDEweiIvPjxwYXRoIGZpbGw9IiMwOGNlMzQiIGQ9Ik0zMS4wMSAyNGMwIDMuODctMy4xNCA3LTcgN3MtNy0zLjEzLTctN2MwLTMuODYgMy4xNC03IDctN3M3IDMuMTQgNyA3eiIvPjwvc3ZnPg==" class="w-10 h-10 browser-icon" alt="Safari">
                        <div>
                            <h3 class="font-medium text-slate-800">Safari</h3>
                            <ol class="mt-2 text-sm text-slate-600 space-y-2">
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">1</span>
                                    Go to Safari > Preferences > Websites
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">2</span>
                                    Select Camera from the left sidebar
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">3</span>
                                    Set this website to "Allow"
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Device Instructions -->
            <div class="bg-white rounded-xl shadow-md p-6 permission-card">
                <h2 class="text-2xl font-semibold text-slate-800 mb-6 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                    </svg>
                    Device Settings
                </h2>
                
                <div class="space-y-6">
                    <!-- Android -->
                    <div class="flex items-start space-x-4">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OCA0OCIgaGVpZ2h0PSI0OCIgd2lkdGg9IjQ4Ij48cGF0aCBmaWxsPSIjNzg5MDNjIiBkPSJNOCA0MHYtM2gzMnYzeiIvPjxwYXRoIGZpbGw9IiMzNGExN2UiIGQ9Ik00MCA0MXYtMjRjMC0yLjIxLTEuNzktNC00LTRIMTJjLTIuMjEgMC00IDEuNzktNCA0djI0YzAgMi4yMSAxLjc5IDQgNCA0aDI0YzIuMjEgMCA0LTEuNzkgNC00eiIvPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik0yNCAzNGMwIDEuMTEtLjg5IDItMiAycy0yLS44OS0yLTIgLjg5LTIgMi0yIDIgLjg5IDIgMnptOC02YzAgMS4xMS0uODkgMi0yIDJzLTItLjg5LTItMiAuODktMiAyLTIgMiAuODkgMiAyem0tMTYgMGMwIDEuMTEtLjg5IDItMiAycy0yLS44OS0yLTIgLjg5LTIgMi0yIDIgLjg5IDIgMnoiLz48cGF0aCBmaWxsPSIjZmZjMTA3IiBkPSJNMzAgMTBWNmMwLTIuMjEtMS43OS00LTQtNHMtNCAxLjc5LTQgNHY0aDguMDF6Ii8+PHBhdGggZmlsbD0iI2ZhYmMwMCIgZD0iTTM2IDEwVjZjMC0zLjMxLTIuNjktNi02LTZzLTYgMi42OS02IDZ2NGgxMnoiLz48L3N2Zz4=" class="w-10 h-10 browser-icon" alt="Android">
                        <div>
                            <h3 class="font-medium text-slate-800">Android Devices</h3>
                            <ol class="mt-2 text-sm text-slate-600 space-y-2">
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">1</span>
                                    Open Settings > Apps
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">2</span>
                                    Find your browser app and tap it
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">3</span>
                                    Tap Permissions > Camera and allow access
                                </li>
                            </ol>
                        </div>
                    </div>
                    
                    <!-- iOS -->
                    <div class="flex items-start space-x-4 pt-4 border-t border-slate-100">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OCA0OCIgaGVpZ2h0PSI0OCIgd2lkdGg9IjQ4Ij48cGF0aCBmaWxsPSIjMjcxODM4IiBkPSJNMzQgNDFIMTQuMDJjLTIuMjEgMC00LTEuNzktNC00VjExYzAtMi4yMSAxLjc5LTQgNC00aDE5Ljk2YzIuMjEgMCA0IDEuNzkgNCA0djI2YzAgMi4yMS0xLjc5IDQtNCA0eiIvPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGQ9Ik0yNCAzOGMwIDEuMTEtLjg5IDItMiAycy0yLS44OS0yLTIgLjg5LTIgMi0yIDIgLjg5IDIgMnptOC02YzAgMS4xMS0uODkgMi0yIDJzLTItLjg5LTItMiAuODktMiAyLTIgMiAuODkgMiAyem0tMTYgMGMwIDEuMTEtLjg5IDItMiAycy0yLS44OS0yLTIgLjg5LTIgMi0yIDIgLjg5IDIgMnoiLz48cGF0aCBmaWxsPSIjMjcxODM4IiBkPSJNMjQgMTBjLTEuMTEgMC0yLS44OS0yLTJzLjg5LTIgMi0yIDIgLjg5IDIgMi0uODkgMi0yIDJ6Ii8+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTI0IDExYzEuMTEgMCAyIC44OSAyIDJzLS44OSAyLTIgMi0yLS44OS0yLTIgLjg5LTIgMi0yeiIvPjwvc3ZnPg==" class="w-10 h-10 browser-icon" alt="iOS">
                        <div>
                            <h3 class="font-medium text-slate-800">iOS Devices</h3>
                            <ol class="mt-2 text-sm text-slate-600 space-y-2">
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">1</span>
                                    Open Settings > Safari
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">2</span>
                                    Scroll down to Camera
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">3</span>
                                    Set to "Allow" or "Ask"
                                </li>
                            </ol>
                        </div>
                    </div>
                    
                    <!-- Desktop -->
                    <div class="flex items-start space-x-4 pt-4 border-t border-slate-100">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OCA0OCIgaGVpZ2h0PSI0OCIgd2lkdGg9IjQ4Ij48cGF0aCBmaWxsPSIjMDA3ZWZmIiBkPSJNNDAgM0g4YTIgMiAwIDAgMC0yIDJ2MjZhMiAyIDAgMCAwIDIgMmgzMmEyIDIgMCAwIDAgMi0yVjVhMiAyIDAgMCAwLTItMnptMCAyOHYtMjRIMTJsLTQgNGgyNHYyMHoiLz48cGF0aCBmaWxsPSIjMDA3ZWZmIiBkPSJNMjQgMTJjLTYuNjIgMC0xMiA1LjM4LTEyIDEyczUuMzggMTIgMTIgMTIgMTItNS4zOCAxMi0xMi01LjM4LTEyLTEyLTEyem0wIDIwYy00LjQyIDAtOC0zLjU4LTgtOHMzLjU4LTggOC04IDggMy41OCA4IDgtMy41OCA4LTggOHoiLz48cGF0aCBmaWxsPSIjMDA3ZWZmIiBkPSJNMjQgMTdjLTMuODYgMC03IDMuMTQtNyA3czMuMTQgNyA3IDcgNy0zLjE0IDctNy0zLjE0LTctNy03em0wIDEwYy0xLjY1IDAtMy0xLjM1LTMtM3MxLjM1LTMgMy0zIDMgMS4zNSAzIDMtMS4zNSAzLTMgM3oiLz48L3N2Zz4=" class="w-10 h-10 browser-icon" alt="Desktop">
                        <div>
                            <h3 class="font-medium text-slate-800">Desktop Computers</h3>
                            <ol class="mt-2 text-sm text-slate-600 space-y-2">
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">1</span>
                                    Check if your camera is connected and working
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">2</span>
                                    Ensure no other application is using the camera
                                </li>
                                <li class="flex items-start">
                                    <span class="step-number mr-3 flex-shrink-0">3</span>
                                    Check browser settings for camera permissions
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test Camera Button -->
        <div class="text-center mb-12">
            <button id="testCamera" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md transition-all duration-300 animate-pulse">
                Test Camera Access
            </button>
            <p id="cameraStatus" class="mt-4 text-sm text-slate-600"></p>
        </div>

        <!-- Troubleshooting Tips -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-8">
            <h2 class="text-2xl font-semibold text-slate-800 mb-4 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                </svg>
                Additional Troubleshooting Tips
            </h2>
            <ul class="list-disc pl-5 text-slate-700 space-y-2">
                <li>Make sure you're using a secure connection (HTTPS)</li>
                <li>Restart your browser after changing permission settings</li>
                <li>Check if your camera is being used by another application</li>
                <li>Update your browser to the latest version</li>
                <li>Try using a different browser if issues persist</li>
            </ul>
        </div>

        <!-- Support Section -->
        <div class="text-center text-sm text-slate-500">
            <p>Still having issues? Contact support at <span class="text-blue-600">support@inventoryscanner.com</span></p>
        </div>
    </div>

    <script>
        document.getElementById('testCamera').addEventListener('click', async function() {
            const statusElement = document.getElementById('cameraStatus');
            statusElement.textContent = 'Checking camera access...';
            
            try {
                // Test camera access
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                
                // Success
                statusElement.innerHTML = '<span class="text-green-600">✓ Camera access granted! You can now use the scanner.</span>';
                
                // Stop all tracks
                stream.getTracks().forEach(track => track.stop());
                
                // Change button to success state
                this.classList.remove('bg-blue-600', 'hover:bg-blue-700', 'animate-pulse');
                this.classList.add('bg-green-600', 'hover:bg-green-700');
                this.textContent = 'Camera Access Successful!';
                
            } catch (error) {
                console.error('Camera error:', error);
                
                // Show appropriate error message
                if (error.name === 'NotAllowedError') {
                    statusElement.innerHTML = '<span class="text-red-600">✗ Camera permission denied. Please follow the instructions above to allow camera access.</span>';
                } else if (error.name === 'NotFoundError') {
                    statusElement.innerHTML = '<span class="text-red-600">✗ No camera found. Please check if your camera is connected properly.</span>';
                } else {
                    statusElement.innerHTML = `<span class="text-red-600">✗ Camera error: ${error.message}</span>`;
                }
                
                // Change button to error state
                this.classList.remove('bg-blue-600', 'hover:bg-blue-700', 'animate-pulse');
                this.classList.add('bg-red-600', 'hover:bg-red-700');
                this.textContent = 'Camera Access Failed';
            }
        });
    </script>
</body>
</html>
